{"version":3,"sources":["../../../../../src/uses/router/middleware/modules/app-middleware.js"],"names":["AppMiddleware","htmlInitializingClass","initializing","$middlewareManager","log","runBefore","document","getElementById","remove","bus","emit","runAfter","next","Middleware"],"mappings":"mGAAA,yC,8kFAEaA,CAAAA,a,gHACT,wBAAwD,cAA5CC,CAAAA,qBAA4C,2DAApB,kBAAoB,qCACpD,wBAEA,MAAKC,YAAL,CAAoB,IAApB,CACA,MAAKD,qBAAL,CAA6BA,qBAA7B,CAJoD,YAKvD,C,gEAEME,kB,CAAoB,CACvB,KAAKC,GAAL,CAAS,KAAT,CAAgB,YAAhB,EAEA,GAAI,KAAKC,SAAL,EAAJ,CAAsB,CAClB,GAAI,KAAKH,YAAT,CAAuB,CACnB,KAAKA,YAAL,CAAoB,KAApB,CACAI,QAAQ,CAACC,cAAT,CAAwB,KAAKN,qBAA7B,EAAoDO,MAApD,EACH,CAED,KAAKC,GAAL,GAAWC,IAAX,CAAgB,cAAhB,CACH,CAPD,IAOO,IAAI,KAAKC,QAAL,EAAJ,CAAqB,CACxB,KAAKF,GAAL,GAAWC,IAAX,CAAgB,aAAhB,CACH,CAED,KAAKE,IAAL,EACH,C,0BAvB8BC,sB","sourcesContent":["import {Middleware} from '../middleware'\r\n\r\nexport class AppMiddleware extends Middleware {\r\n    constructor(htmlInitializingClass = 'app-initializing') {\r\n        super()\r\n\r\n        this.initializing = true\r\n        this.htmlInitializingClass = htmlInitializingClass\r\n    }\r\n\r\n    handle($middlewareManager) {\r\n        this.log('app', 'middleware')\r\n\r\n        if (this.runBefore()) {\r\n            if (this.initializing) {\r\n                this.initializing = false\r\n                document.getElementById(this.htmlInitializingClass).remove()\r\n            }\r\n\r\n            this.bus().emit('page.loading')\r\n        } else if (this.runAfter()) {\r\n            this.bus().emit('page.loaded')\r\n        }\r\n\r\n        this.next()\r\n    }\r\n}\r\n"],"file":"app-middleware.js"}