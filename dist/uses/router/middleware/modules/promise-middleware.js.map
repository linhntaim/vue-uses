{"version":3,"sources":["../../../../../src/uses/router/middleware/modules/promise-middleware.js"],"names":["PromiseMiddleware","promisingCallback","promisedCallback","promiseManager","PromiseManager","log","ready","then","next","Middleware"],"mappings":"+aAAA,yCACA,gD,2wEAEaA,CAAAA,iB,wHACT,2BAAYC,iBAAZ,CAA+BC,gBAA/B,CAAiD,mDAC7C,wBAEA,MAAKC,cAAL,CAAsB,GAAIC,yBAA1B,CACA,MAAKH,iBAAL,CAAyBA,iBAAzB,CACA,MAAKC,gBAAL,CAAwBA,gBAAxB,CAL6C,YAMhD,C,oDAED,iBAAS,iBACL,KAAKG,GAAL,CAAS,SAAT,CAAoB,YAApB,EAEA,KAAKJ,iBAAL,CAAuB,IAAvB,EACA,KAAKE,cAAL,CAAoBG,KAApB,GAA4BC,IAA5B,CAAiC,UAAM,CACnC,MAAI,CAACL,gBAAL,CAAsB,MAAtB,EACA,MAAI,CAACM,IAAL,EACH,CAHD,CAIH,C,8BAjBkCC,sB","sourcesContent":["import {Middleware} from '../middleware'\r\nimport {PromiseManager} from '@dsquare-gbu/vue-utils'\r\n\r\nexport class PromiseMiddleware extends Middleware {\r\n    constructor(promisingCallback, promisedCallback) {\r\n        super()\r\n\r\n        this.promiseManager = new PromiseManager()\r\n        this.promisingCallback = promisingCallback\r\n        this.promisedCallback = promisedCallback\r\n    }\r\n\r\n    handle() {\r\n        this.log('promise', 'middleware')\r\n\r\n        this.promisingCallback(this)\r\n        this.promiseManager.ready().then(() => {\r\n            this.promisedCallback(this)\r\n            this.next()\r\n        })\r\n    }\r\n}\r\n"],"file":"promise-middleware.js"}